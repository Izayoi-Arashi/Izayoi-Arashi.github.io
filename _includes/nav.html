<!-- Navigation -->
{% if page.nav-style == "invert" or page.header-style == "text" %}
<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">
{% else %}
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
{% endif %}
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#huxblog_navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{{ site.baseurl }}/">{{ site.title }}</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="{{ site.baseurl }}/">Home</a></li>
                {% for page in site.pages %}
                {% if page.title and page.hide-in-nav != true %}
                <li><a href="{{ page.url | prepend: site.baseurl }}">{{ page.title }}</a></li>
                {% endif %}
                {% endfor %}
                <!-- 音乐控制按钮 -->
                <li class="music-player">
                    <a href="javascript:void(0)" class="music-toggle">
                        <i class="fa fa-play-circle"></i> Play/Pause
                    </a>
                </li>
                <li class="search-icon">
                    <a href="javascript:void(0)">
                        <i class="fa fa-search"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- 音乐播放器（网易云音乐嵌入） -->
<iframe id="music-player" frameborder="no" border="0" marginwidth="0" marginheight="0" width="0" height="0"
    src="//music.163.com/outchain/player?type=2&id=2006747853&auto=1&height=66">
</iframe>

<script>
    var musicPlayer = document.getElementById('music-player');
    var musicToggle = document.querySelector('.music-toggle i');
    var isPlaying = true;  // 默认状态为播放

    // 切换播放/暂停
    document.querySelector('.music-toggle').addEventListener('click', function() {
        if (isPlaying) {
            musicPlayer.contentWindow.postMessage('{"method":"pause"}', '*');  // 暂停
            musicToggle.classList.remove('fa-play-circle');
            musicToggle.classList.add('fa-pause-circle');
        } else {
            musicPlayer.contentWindow.postMessage('{"method":"play"}', '*');  // 播放
            musicToggle.classList.remove('fa-pause-circle');
            musicToggle.classList.add('fa-play-circle');
        }
        isPlaying = !isPlaying;  // 切换状态
    });
</script>
<style>
    /* 音乐控制按钮样式 */
.music-player a {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    font-size: 18px;
    color: #333; /* 与现有按钮颜色一致 */
}

.music-player a:hover {
    color: #007bff; /* 鼠标悬停时，保持一致的悬停效果 */
}

/* 在移动端调整按钮样式 */
@media (max-width: 768px) {
    .navbar-right {
        display: flex;
        justify-content: space-between;
    }

    .music-player {
        margin-right: 15px;
    }
}
</style>
